<!-- LOAN PAGE -->

<!-- Dashboard -->
<div class="d-flex flex-column flex-lg-row h-lg-full ">


  <nav class="navbar navbar-expand-lg shadow-sm navbar-light" id="mobileContent">
  <div class="container-fluid">
    <a class="navbar-brand" href="#"><img src="/assets/images/logo.jpg" alt="AshMoney Logo" style="width: 100px;"></a>
    <button class="navbar-toggler"  type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
      aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
              <ul class="navbar-nav p-3">
                <li class="nav-item">
                  <a class="nav-link" aria-current="page"  routerLink="/user/{{ userAcct.id }}"> <i class="bi bi-house"></i> Dashboard</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link"  routerLink="/transactions/{{ userAcct.id }}"><i class="bi bi-bar-chart"></i> Transactions</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link"  routerLink="/send-money/{{ userAcct.id }}">              <i class="bi bi-cash"></i> Send Money</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link"  routerLink="/receive-money/{{ userAcct.id }}">              <i class="bi bi-wallet-fill"></i> Receive Money</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link"  routerLink="/quick-loan/{{ userAcct.id }}"> <i class="bi bi-bookmarks"></i> Quick Loan</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link"  routerLink="/account-info/{{ userAcct.id }}">              <i class="bi bi-person-square me-2"></i>Profile</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link logout"  (click)="signOut()">              <i class="bi bi-box-arrow-left me-2"></i>Logout</a>
                </li>
              </ul>
      
    </div>
  </div>
</nav>
  <!-- Vertical Navbar -->
  <nav
    class="navbar show navbar-vertical h-lg-screen navbar-expand-lg px-0 py-3 navbar-light bg-white border-bottom border-bottom-lg-0 border-end-lg"
    id="navbarVertical"
  >
    <div class="container-fluid">
      <!-- Toggler -->
      <button
        class="navbar-toggler ms-n2"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#sidebarCollapse"
        aria-controls="sidebarCollapse"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
      <!-- Brand -->
      <a class="navbar-brand py-lg-2 mb-lg-5 px-lg-6 me-0" href="#">
        <img
          src="assets/images/sidelogo.png" style="width: 200px; height: 100px;"
          alt="..."
        />
      </a>
      <!-- User menu (mobile) -->
      <div class="navbar-user d-lg-none">
        <!-- Dropdown -->
        <div class="dropdown">
          <!-- Toggle -->
          <a
            href="#"
            id="sidebarAvatar"
            role="button"
            data-bs-toggle="dropdown"
            aria-haspopup="true"
            aria-expanded="false"
          >
            <div class="avatar-parent-child">
              <img
                alt="profile"
                src="https://images.unsplash.com/photo-1548142813-c348350df52b?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=3&w=256&h=256&q=80"
                class="avatar avatar- rounded-circle"
              />
              <span class="avatar-child avatar-badge bg-success"></span>
            </div>
          </a>
          <!-- Menu -->
          <div
            class="dropdown-menu dropdown-menu-end"
            aria-labelledby="sidebarAvatar"
          >
            <a href="#" class="dropdown-item">Profile</a>
            <a href="#" class="dropdown-item">Settings</a>
            <a href="#" class="dropdown-item">Billing</a>
            <hr class="dropdown-divider" />
            <a href="#" class="dropdown-item">Logout</a>
          </div>
        </div>
      </div>
      <!-- Collapse -->
      <div class="collapse navbar-collapse" id="sidebarCollapse align-items-center">
        <div class="mt-5"></div>
        <!-- Navigation -->
        <ul class="navbar-nav ">
          <li class="nav-item">
            <a class="nav-link" routerLink="/user/{{userAcct.id}}">
              <i class="bi bi-house"></i> Dashboard
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" routerLink="/transactions/{{userAcct.id}}">
              <i class="bi bi-bar-chart"></i> Transaction
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" routerLink="/send-money/{{userAcct.id}}">
              <i class="bi bi-cash"></i> Send Money
              <!-- <span
                class="badge bg-soft-primary text-primary rounded-pill d-inline-flex align-items-center ms-auto"
                >6</span
              > -->
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" routerLink="/receive-money/{{userAcct.id}}">
             
              <i class="bi bi-wallet-fill"></i> Receive Money
            </a>
          </li>
 <li class="nav-item">
            <a class="nav-link" routerLink="/quick-loan/{{userAcct.id}}">
              <i class="bi bi-bookmarks"></i> Quick Loan
            </a>
          </li>
          <!-- <li class="nav-item">
            <a class="nav-link" href="#">
              <i class="bi bi-people"></i> Users
            </a>
          </li> -->
        </ul>
        <!-- Divider -->
        <hr class="navbar-divider my-5 opacity-20" />
        <!-- Navigation -->

        <!-- Push content down -->
        <!-- <div class="mt-auto"></div> -->
        <!-- User (md) -->
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link" routerLink="/account-info/{{userAcct.id}}">
              <i class="bi bi-person-square"></i> Account
            </a>
          </li>
          <li class="nav-item logout">
            <a class="nav-link" (click)="signOut()">
              <i class="bi bi-box-arrow-left"></i> Logout
            </a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  
  <!-- Main content -->
  <div class="h-screen flex-grow-1 overflow-y-lg-auto">
    <!-- Header -->
    
    <!-- Main -->
    <main class="">
      <div class="container" id="mobileContent">
  <ul class="nav nav-tabs overflow-x " style="border-bottom: 2px solid #c31e39;">
            <li class="nav-item">
              <a routerLink="/user/{{ userAcct.id }}" class="nav-link ttt "> <i class="bi bi-house"></i> Dashboard</a>
            </li>
            <li class="nav-item ">
              <a  routerLink="/transactions/{{ userAcct.id }}" class="nav-link ttt font-regular"><i class="bi bi-bar-chart"></i> Transactions</a> 
            </li> 
            
            <li class="nav-item">
              <a routerLink="/send-money/{{ userAcct.id }}" class="nav-link ttt font-regular"><i class="bi bi-cash"></i> Send Money</a> 
            </li>
            <li class="nav-item">
              <a routerLink="/receive-money/{{ userAcct.id }}" class="nav-link ttt font-regular">              <i class="bi bi-wallet-fill me-1"> </i>Receive Money</a>
            </li>
            <li class="nav-item">
              <a routerLink="/quick-loan/{{ userAcct.id }}" class="nav-link ttt font-regular"> <i class="bi bi-bookmarks"></i> Quick Loan</a>
            </li>
            <li class="nav-item">
              <a routerLink="/account-info/{{ userAcct.id }}" class="nav-link ttt font-regular"><i class="bi bi-person-square"></i> Personal Information</a>
            </li>
            <li class="nav-item">
              <a (click)="signOut()" class="nav-link font-regular"><i class="bi bi-box-arrow-left me-2"></i>Logout</a>
            </li>
          </ul>
</div>

      <div class="container-fluid">
<div class="row py-5">
   <div class="row">
    <div class="col-lg-3"></div>
   <div class="col-lg-5">
    <div class="d-flex py-5 mb-4 flex-column align-items-center">
            <p class="fs-4 fw-bold m-0 send">Send Money</p>
            <div class="text-muted text-center mt-1">You can make up to <span style="color: #C31E39; font-weight: 600;">30</span>
                free transfers</div>
            <!-- <span class="text-muted text-center">Fill in the i</span> -->
            <span class="line my-2"></span>
          </div></div>
   <div class="col-lg-4"></div>
  </div>

        <!-- Modal -->
      <div
        class="modal fade"
        id="staticBackdrop"
        data-bs-backdrop="static"
        data-bs-keyboard="false"
        tabindex="-1"
        aria-labelledby="staticBackdropLabel"
        aria-hidden="true"
      >
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header text-center">


            </div>
            <div class="modal-body container">
              <h5 class="headText text-center py-5">
                ENTER YOUR TRANSACTION PIN (4 DIGITS)
              </h5>

              <!-- modal content -->
<form [formGroup]="sendMoneyForm">
   <div class="col-12 p-0 px-4">
    <input type="number" (input)="resetIncorrectPin(); hashedPin = hashPin(sendMoneyForm.value.pin)" formControlName="pin" onkeydown="return event.key !== 'e'" class="form-control shadow-sm d-flex align-items-center pin py-3 px-2" placeholder="Enter PIN here">


     <!-- <input type="number" (input)="resetIncorrectPin()" formControlName="pin" onkeydown="return event.key !== 'e'" class="form-control shadow-sm d-flex align-items-center pin py-3 px-2" placeholder="Enter PIN here"> -->
<div class="error text-white" *ngIf="incorrectPin == true && sendMoneyForm.controls['pin'].touched">
    Incorrect PIN
  </div>
<div class="success text-white" *ngIf="incorrectPin == false && sendMoneyForm.value.pin == userAcct.transactionPin">
    Correct PIN
  </div>
  
     <span class="text-danger mt-3"
                    *ngIf="sendMoneyForm.controls['pin'].touched && sendMoneyForm.hasError('required', 'pin')">Please enter your PIN</span>
   </div>
   <div class=" text-center text-muted py-2"> <span style="color: #C31E39; font-weight: 600; font-style: 10px!important;">Do not share your PIN with anyone.</span>
                </div>
</form>

            </div>
            <div class="modal-footer">
              <button  (click)="post()" type="button" [disabled]="sendMoneyForm.invalid" class="btn btn-primary">Send</button>
        <button type="reset" class="btn btn-secondary" data-bs-dismiss="modal" (click)="reset()">Close</button>
      </div>

       <!-- <div class=" text-center text-muted py-2"> <span style="color: #C31E39; font-weight: 600; font-style: 10px!important;">Do not share your PIN with anyone.</span>
                </div> -->
          </div>
        </div>
      </div>
 

  <div class="form">
    <form class="row" [formGroup]="transferForm">
        <div class="col-lg-1"></div>
  <div class="col-lg-5 mb-3">
    <h4>Sender Information</h4>
    <div class="row p-0">
      <div class="col-12 p-0 px-4 mt-1">
              <span class="text-uppercase text-muted">Account number</span>
            </div>
            <div class="col-12 p-0 px-4">
 <input type="text" formControlName="senderAccount" name="senderAccount" [(ngModel)]="userAcct.accountNumber" [value]="userAcct.accountNumber" readonly required
                class="form-control shadow-sm d-flex align-items-center py-2 px-2">
            </div>
            <div class="col-12 p-0 px-4">
              <span class="text-uppercase text-muted">Account Name</span>
            </div>
            <div class="col-12 p-0 px-4">
              <input type="text" formControlName="sender" name="sender" [(ngModel)]="userAcct.fullName" [value]="userAcct.fullName" readonly required
                class="form-control shadow-sm d-flex align-items-center py-2 px-2">
            </div>
            

            <!-- AMOUNT -->
            <div class="col-12 p-0 px-4 mt-1">
              <span class="text-uppercase text-muted">Account Type</span>
            </div>
            <div class="col-12 p-0 px-4">
              <input  type="text" formControlName="acctType" name="acctType" [(ngModel)]="userAcct.accountType" [value]="userAcct.accountType" readonly required
                class="form-control shadow-sm d-flex align-items-center py-2 px-2">
            </div>


            <div class="col-12 p-0 px-4 mt-1">
              <span class="text-uppercase text-muted">amount</span>
            </div>
 <div class="col-12 p-0 px-4">
              <input type="number" onkeydown="return event.key !== 'e'" formControlName="amount"
                class="form-control nom shadow-sm d-flex align-items-center py-2 px-2" id="amount" [(ngModel)]="AccountUser.amount" name="amount" required>

                                         <span class="text-danger"
                    *ngIf="transferForm.controls['amount'].touched && transferForm.hasError('required', 'amount')">Amount is required</span>
            </div>
          
            
          </div>
  </div>
  <div class="col-lg-5 ">
    <h4 class="dest">Beneficiary Information</h4>
    <div class="row p-0">
            <div class="col-12 p-0 px-4">
              <span class="text-uppercase text-muted">account number</span>
            </div>
            <div class="col-12 p-0 px-4">
              <input type="number" formControlName="beneficiaryAccount" onkeydown="return event.key !== 'e'"  #accountNumberInput (input)="validateAccountNumber(accountNumberInput.value)" 
                class="form-control nom shadow-sm d-flex align-items-center py-2 px-2" [(ngModel)]="accountNumber" name="beneficiaryAccount" required>

                                         <span class="text-danger"
                    *ngIf="transferForm.controls['beneficiaryAccount'].touched && transferForm.hasError('required', 'beneficiaryAccount')">Account Number is required</span>
            </div>
            <div class="col-12 p-0 px-4 mt-1">
              <span class="text-uppercase text-muted">account name</span>
            </div>
            <div class="col-12 p-0 px-4">
 <input type="text" formControlName="beneficiary" 
                class="form-control shadow-sm d-flex align-items-center py-2 px-2" [(ngModel)]="AccountUser.fullName" name="beneficiary" required readonly>
            </div>



            <div class="col-12 p-0 px-4 mt-1">
              <span class="text-uppercase text-muted">Bank Name</span>
            </div>
            <div class="col-12 p-0 px-4">
              <input formControlName="beneficiaryBankName" type="text" 
                class="form-control  shadow-sm d-flex align-items-center py-2 px-2" required readonly  [(ngModel)]="AccountUser.bankName" name="beneficiaryBankName">
            </div>

             <!-- NARRATION -->
            <div class="col-12 p-0 px-4 mt-1">
              <span class="text-uppercase text-muted">Narration</span>
            </div>
            <div class="col-12 p-0 px-4">
              <input type="text" formControlName="narration" name="narration"
                class="form-control shadow-sm d-flex  align-items-center py-2 px-2"  [(ngModel)]="AccountUser.narration">
                                                         <span class="text-danger"
                    *ngIf="transferForm.controls['narration'].touched && transferForm.hasError('required', 'narration')">Narration is required</span>
                
            </div>
            
            
          </div>
         
  </div>
  <div class="col-lg-1"></div>
   


            
            <div class="row mb-5">
              <div class="col-lg-4"></div>
              <div class="col-lg-4">            <div class=" p-0 px-4">
              <button data-bs-toggle="modal" data-bs-target="#staticBackdrop" [disabled]="transferForm.invalid " class="btn btn-primary w-100 text-center mt-5 mb-5">Send</button>
              <!-- <div class="text-muted text-center mt-1">You can make up to <span style="color: #C31E39; font-weight: 600;">30</span>
                free transfers</div> -->
            </div></div>
              <div class="col-lg-4"></div>
            </div>
          </form>
          </div>

</div>
        
      </div>
      
    </main>

        <div class=" bg-blue  p-2 text-center fixed-bottom" id="mobileContent">
                 <small class="text-center">Developed By <a class="fw-bold" href="https://www.linkedin.com/in/piusash/">Pius Ashogbon</a></small>
                 
            </div>
  </div>
</div>

          <!-- <div class="col-12 p-0 px-4">
              <div class="d-flex align-items-center my-3">
                <span class="text-muted text-uppercase">you're about to send:</span>
                <span class="c-g ps-1">â‚¦<span id="money">23,640</span></span>
              </div>
            </div> -->